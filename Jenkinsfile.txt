pipeline {
    agent any
    tools {
        go 'go-1.11'
        nodejs 'node-12'
    }
    environment {
        GO111MODULE = 'on'
    }
    stages {
        stage('go-build'){
          steps{
            sh 'claat version'
            sh 'go version'
            sh 'claat export -o build/codelabs/ 1cgOqCw13vT_JXdZpccVhTMJTKoLORd7ZTmNSjbX0fMA'
            sh 'claat export -o build/codelabs/ 1rSJlTFkaT_rcSzyfhdzAI1_8ot6V7rKAp9Jj3VVwb6I'
            sh 'claat export -o build/codelabs/ 1zmeDhYAWRIjScyL792N_fU1x_Ar3vNrN275BEKzqYaA'
            sh 'claat export -o build/codelabs/ 1jqyv6SeAIykdKK-LOfdXSDTkxZeyU4hKySEIpH-yq_c'
          }
        }
        stage('gulp-generate'){
          steps{
            sh 'echo $JENKINS_HOME'
            sh 'node -v'
            sh 'eval echo "~$USER"'
            sh 'go version'
            sh 'which go'
            sh 'git version'
            sh 'claat version'
            sh 'claat export 1cgOqCw13vT_JXdZpccVhTMJTKoLORd7ZTmNSjbX0fMA'
            sh 'claat export sample.md'   
          }
        }
        stage('s3-deploy'){
          steps{
            sh 'echo $JENKINS_HOME'
            sh 'node -v'
            sh 'eval echo "~$USER"'
            sh 'go version'
            sh 'which go'
            sh 'git version'
            sh 'claat version'
            sh 'claat export 1cgOqCw13vT_JXdZpccVhTMJTKoLORd7ZTmNSjbX0fMA'
            sh 'claat export sample.md'   
          }
        }
    }
}

